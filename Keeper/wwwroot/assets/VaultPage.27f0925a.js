import{_ as g,w as k,q as b,A as d,s as _,P as c,v as u,x as w,K as x,a as r,b as e,y as V,t as m,d as p,F as K,r as P,z as C,o as l,e as I,f as S,u as N,h as A,p as R,i as B,B as f}from"./index.19c0dfaa.js";const E={setup(){const o=N(),a=C();async function h(s){try{await u.getVault(s)}catch(n){c.error(n.message,"[Get Vault]"),a.push({name:"Home"})}}async function t(s){try{await u.getKeepsInVault(s)}catch(n){c.error(n.message,"[Getting Keeps In Vault]")}}return k(()=>{o.params.vaultId&&(h(o.params.vaultId),t(o.params.vaultId))}),b(()=>{d.keeps=[]}),{vault:_(()=>d.vault),account:_(()=>d.account),keeps:_(()=>d.keeps),async deleteVault(s){try{await c.confirm("Are you sure you want to PERMANENTLY delete this vault?")&&(await u.deleteVault(s),c.success("Successfully deleted your vault!"),a.push({name:"Home"}))}catch(n){c.error(n.message,"[Deleting Vault]")}},async changePrivacy(){try{const s=d.vault;s.isPrivate=!s.isPrivate,await u.updateVault(s)}catch(s){c.error(s.message,"[Changing Vault Privacy]")}},async removeKeep(s){try{await c.confirm("Are you sure you want to remove this keep from this vault?")&&await w.removeKeep(s)}catch(n){c.error(n.message,"[Removing Keep]")}}}},components:{KeepCard:x}},v=o=>(R("data-v-dddf3cc5"),o=o(),B(),o),j={key:0,class:"container-fluid pb-5"},D={class:"row"},M={class:"col-10 offset-1 col-md-6 offset-md-3 p-2"},z={class:"vault-title text-shadow fw-bold"},F={class:"text-shadow fs-5"},G={key:0,class:"row"},H={class:"col-8 offset-2 col-md-6 offset-md-3 px-2"},L={class:"w-100 d-flex align-items-center justify-content-between"},T=v(()=>e("span",null,[f("Make Public "),e("i",{class:"mdi mdi-lock-open"})],-1)),q=[T],U=v(()=>e("span",null,[f("Make Private "),e("i",{class:"mdi mdi-lock"})],-1)),Y=[U],J=v(()=>e("span",null,[f("Delete "),e("i",{class:"mdi mdi-delete"})],-1)),O=[J],Q={class:"row"},W={class:"col-6 offset-3 px-2 mt-1 d-flex justify-content-center align-items-center"},X={class:"bg-primary px-2 py-1 rounded-pill fs-5"},Z={class:"row mt-3 mb-5"},$={class:"col-12 col-md-8 offset-md-2"},ee={class:"bricks"},te={class:"rounded hover-card"},se=["onClick"],ae=v(()=>e("span",null,[e("i",{class:"mdi mdi-delete"})],-1)),oe=[ae];function ne(o,a,h,t,s,n){const y=A("KeepCard");return t.vault?(l(),r("div",j,[e("div",D,[e("div",M,[e("div",{class:"rounded vault-bg d-flex align-items-center justify-content-end flex-column pb-2 text-light",style:V({backgroundImage:`url(${t.vault.img})`})},[e("span",z,m(t.vault.name),1),e("span",F,"by "+m(t.vault.creator.name),1)],4)])]),t.account.id==t.vault.creator.id?(l(),r("div",G,[e("div",H,[e("div",L,[t.vault.isPrivate?(l(),r("button",{key:0,class:"btn btn-dark",onClick:a[0]||(a[0]=i=>t.changePrivacy())},q)):(l(),r("button",{key:1,class:"btn btn-dark",onClick:a[1]||(a[1]=i=>t.changePrivacy())},Y)),e("button",{class:"btn btn-danger",onClick:a[2]||(a[2]=i=>t.deleteVault(t.vault.id))},O)])])])):p("",!0),e("div",Q,[e("div",W,[e("span",X,m(t.keeps.length)+" Keeps",1)])]),e("div",Z,[e("div",$,[e("div",ee,[(l(!0),r(K,null,P(t.keeps,i=>(l(),r("div",te,[I(y,{keep:i},{default:S(()=>[t.vault.creator.id==t.account.id?(l(),r("button",{key:0,class:"btn btn-danger move-over py-1 px-1",title:"Remove this keep from this vault.",onClick:ce=>t.removeKeep(i.vaultKeepId)},oe,8,se)):p("",!0)]),_:2},1032,["keep"])]))),256))])])])])):p("",!0)}const le=g(E,[["render",ne],["__scopeId","data-v-dddf3cc5"]]);export{le as default};
